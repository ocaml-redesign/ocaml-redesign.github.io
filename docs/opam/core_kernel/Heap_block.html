<!DOCTYPE HTML>

<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title> &ndash; OCaml</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Google Web Fonts -->
    <link href="http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet">
    <link href="http://fonts.googleapis.com/css?family=Domine:400,700" rel="stylesheet">
    <!-- Only part of Bootstrap that we don't load from a CDN is our own customized CSS build. -->
    <link href="/static/css/bootstrap.css" rel="stylesheet" media="screen">
    <!--[if lt IE 9]>
        <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.2/html5shiv.js"></script>
    <![endif]-->
    <script type="text/javascript">
      function octry(x){
        if(document.getElementById('buttons').innerHTML=='') {
          t = document.getElementById('tryocaml');
          js = document.createElement("script"); js.type = "text/javascript"; js.src = "/try-ocaml.js";
          t.appendChild(js);
        } else {
          t = document.getElementById('tryocaml');
          t.style.display = 'block';
          document.getElementById('console').value = x;
          document.getElementById('console').focus();
          document.getElementById('console').select();
        }
      }
    </script>

 <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
 <script type="text/javascript" src="/docs/opam/doc_loader.js"></script>
  </head>
  <body>
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="brand" href="/"><img src="/static/img/ocaml.png" alt="OCaml"></a>
          <div class="nav-collapse collapse">
                        <ul class="nav">
              <li ><a href="/learn/">Learn</a></li>
              <li ><a href="/docs/">Documentation</a></li>
              <li ><a href="/platform/">Platform</a></li>
              <li ><a href="/list.html">Packages</a></li>
              <li ><a href="/community/">Community</a></li>
            </ul>

            <form class="navbar-search pull-right">
              <input class="search-query" type="text" placeholder="Search" />
            </form>
          </div>
        </div>
      </div>
    </nav>
    
        <div class="container">
      <div class="row">



          <div id='main-contents' class="content">
            <div class="ocaml_toplevel_module"><div class="info">A heap block is a value that is guaranteed to live on the OCaml heap, and is hence
    guaranteed to be usable with finalization or in a weak pointer.  It is an abstract
    type so we can use the type system to guarantee that the values we put in weak
    pointers and use with finalizers are heap blocks.<br/>    Some examples of values that are not heap-allocated are integers, constant
    constructors, booleans, the empty array, the empty list, the unit value.  The exact
    list of what is heap-allocated or not is implementation-dependent.  Some constant
    values can be heap-allocated but never deallocated during the lifetime of the program,
    for example a list of integer constants; this is also implementation-dependent.  You
    should also be aware that compiler optimizations may duplicate some immutable values,
    for example floating-point numbers when stored into arrays; thus they can be finalized
    and collected while another copy is still in use by the program.<br/>    The results of calling TODO reference : String.make, TODO reference : String.create, TODO reference : Array.make, and
    TODO reference : Pervasives.ref are guaranteed to be heap-allocated and non-constant except when the
    length argument is <code class="code">0</code>.</div>
<pre><span class="TYPEt"><span class="keyword">type</span> <code class="type">+'a </code>t</span> = <code class="type">'a</code><span class="keyword">private</span></pre>
<pre><span class="VALcreate"><span class="keyword">val</span> create</span> : <code class="type">'a -&gt; 'a <a href="?package=core_kernel&amp;module=Heap_block&amp;type=t">t</a> option</code></pre><div class="info"><div class="info"><code class="code">create v</code> returns <code class="code">Some t</code> if <code class="code">v</code> is a heap block, where <code class="code">t</code> is physically equal
    to <code class="code">v</code></div></div>
<pre><span class="VALcreate_exn"><span class="keyword">val</span> create_exn</span> : <code class="type">'a -&gt; 'a <a href="?package=core_kernel&amp;module=Heap_block&amp;type=t">t</a></code></pre>
<pre><span class="VALvalue"><span class="keyword">val</span> value</span> : <code class="type">'a <a href="?package=core_kernel&amp;module=Heap_block&amp;type=t">t</a> -&gt; 'a</code></pre><div class="info"><div class="info"><code class="code">value t</code> returns the value that is physically equal to <code class="code">t</code></div></div>
<pre><span class="VALbytes"><span class="keyword">val</span> bytes</span> : <code class="type">'a <a href="?package=core_kernel&amp;module=Heap_block&amp;type=t">t</a> -&gt; int</code></pre><div class="info"><div class="info"><code class="code">bytes t</code> returns the number of bytes on the heap taken by heap block <code class="code">t</code>, including
    the header.  This is just the space for the single block, not anything it points
    to.</div></div>
<pre><span class="VALsexp_of_t"><span class="keyword">val</span> sexp_of_t</span> : <code class="type">('a -&gt; Sexplib.Sexp.t) -&gt; 'a <a href="?package=core_kernel&amp;module=Heap_block&amp;type=t">t</a> -&gt; Sexplib.Sexp.t</code></pre>
<div class="info"><div class="info"><code class="code">create v</code> returns <code class="code">Some t</code> if <code class="code">v</code> is a heap block, where <code class="code">t</code> is physically equal
    to <code class="code">v</code></div></div>
<div class="info"><div class="info"><code class="code">value t</code> returns the value that is physically equal to <code class="code">t</code></div></div>
<div class="info"><div class="info"><code class="code">bytes t</code> returns the number of bytes on the heap taken by heap block <code class="code">t</code>, including
    the header.  This is just the space for the single block, not anything it points
    to.</div></div>
</div>
          </div>
        </div>
      </div>
    </div>
    <footer id="footer" class="navbar navbar-inverse navbar-fixed-bottom">
      <div class="navbar-inner">
        <div class="container-fluid">
          <ul class="nav pull-right">
            <li><a href="#">Feedback</a></li>
            <li><a href="#">Contact us</a></li>
            <li><a href="#">Find us on GitHub</a></li>
          </ul>
        </div>
      </div>
    </footer>
    <!-- Load javascript from CDN -->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.3.1/js/bootstrap.min.js"></script>
    <script>octry('')</script>
  </body>
</html>
