<!DOCTYPE HTML>

<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title> &ndash; OCaml</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Google Web Fonts -->
    <link href="http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet">
    <link href="http://fonts.googleapis.com/css?family=Domine:400,700" rel="stylesheet">
    <!-- Only part of Bootstrap that we don't load from a CDN is our own customized CSS build. -->
    <link href="/static/css/bootstrap.css" rel="stylesheet" media="screen">
    <!--[if lt IE 9]>
        <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.2/html5shiv.js"></script>
    <![endif]-->
    <script type="text/javascript">
      function octry(x){
        if(document.getElementById('buttons').innerHTML=='') {
          t = document.getElementById('tryocaml');
          js = document.createElement("script"); js.type = "text/javascript"; js.src = "/try-ocaml.js";
          t.appendChild(js);
        } else {
          t = document.getElementById('tryocaml');
          t.style.display = 'block';
          document.getElementById('console').value = x;
          document.getElementById('console').focus();
          document.getElementById('console').select();
        }
      }
    </script>

 <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
 <script type="text/javascript" src="/docs/opam/doc_loader.js"></script>
  </head>
  <body>
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="brand" href="/"><img src="/static/img/ocaml.png" alt="OCaml"></a>
          <div class="nav-collapse collapse">
                        <ul class="nav">
              <li ><a href="/learn/">Learn</a></li>
              <li ><a href="/docs/">Documentation</a></li>
              <li ><a href="/platform/">Platform</a></li>
              <li ><a href="/list.html">Packages</a></li>
              <li ><a href="/community/">Community</a></li>
            </ul>

            <form class="navbar-search pull-right">
              <input class="search-query" type="text" placeholder="Search" />
            </form>
          </div>
        </div>
      </div>
    </nav>
    
        <div class="container">
      <div class="row">



          <div id='main-contents' class="content">
            <div class="ocaml_toplevel_module"><div class="info">Synchronous API for RPC clients</div>
<div class="info"><div class="info">This is a synchronous client that suffices for most applications
 of RPC.</div></div>
<pre><span class="TYPEt"><span class="keyword">type</span> t</span> </pre><div class="info"><div class="info">The type of simple clients</div></div>
<pre><span class="VALcreate"><span class="keyword">val</span> create</span> : <code class="type"><a href="?package=ocamlnet&amp;module=Rpc_client&amp;type=connector">Rpc_client.connector</a> -&gt; <a href="?package=ocamlnet&amp;module=Rpc&amp;type=protocol">Rpc.protocol</a> -&gt; <a href="?package=ocamlnet&amp;module=Rpc_program&amp;type=t">Rpc_program.t</a> -&gt; <a href="?package=ocamlnet&amp;module=Rpc_simple_client&amp;type=t">t</a></code></pre><div class="info"><div class="info">Create a simple client that connects with the given server using
 the given protocol type. The program argument specifies the remote
 program.</div></div>
<pre><span class="VALcall"><span class="keyword">val</span> call</span> : <code class="type"><a href="?package=ocamlnet&amp;module=Rpc_simple_client&amp;type=t">t</a> -&gt; string -&gt; <a href="?package=ocamlnet&amp;module=Xdr&amp;type=xdr_value">Xdr.xdr_value</a> -&gt; <a href="?package=ocamlnet&amp;module=Xdr&amp;type=xdr_value">Xdr.xdr_value</a></code></pre><div class="info"><div class="info"><code class="code">call simple_client procedure_name procedure_arg</code>:
 Call the procedure with the given name and the given argument. Returns
 the result of the procedure on success; otherwise raises an exception.<br/> Note that it is possible that the connection is aborted and the
 client is reset. In this case <code class="code">call</code> raises an exception but it is
 currently difficult to recognize this case.
 Other reasons may be that the server refuses the call (e.g. because
 of missing authentication).<br/> Frequent exceptions:<br/> - <code class="code">Rpc.Rpc_server condition</code>:  The server did not like the call;
                                the 'condition' explains why<ul><li><code class="code">Rpc.Rpc_cannot_unpack reason</code>:  Got a badly formatted message.</li><li><code class="code">Rpc_client.Message_lost</code>:   The stream ended before there was any
                                reply (perhaps not even the call could
                                be sent over the stream)</li><li><code class="code">Rpc_client.Message_timeout</code>: There was no reply for the specified
                                period of time</li><li><code class="code">Rpc_client.Communication_error x</code>:
                                An I/O error or a serious internal
                                error happened
 <code class="code">Failure s</code>:                   Mostly: The internal state of the client
                                does not allow to do another call</li></ul> Note that only the <code class="code">Rpc_server</code> exception has clear semantics as it is
 known that the procedure has not been invoked.
 It is a good choice to shut down the connection if one of the other
 exceptions happens. (Note that the connection may already have been
 shutted down, but it is ok to shut down twice.)</div></div>
<pre><span class="VALshut_down"><span class="keyword">val</span> shut_down</span> : <code class="type"><a href="?package=ocamlnet&amp;module=Rpc_simple_client&amp;type=t">t</a> -&gt; unit</code></pre><div class="info"><div class="info">Shut the connection down. After the client has been shutted down, it
 is not possible to call further remote procedures. Throw the client
 away and create a new one if you want to continue.</div></div>
</div>
          </div>
        </div>
      </div>
    </div>
    <footer id="footer" class="navbar navbar-inverse navbar-fixed-bottom">
      <div class="navbar-inner">
        <div class="container-fluid">
          <ul class="nav pull-right">
            <li><a href="#">Feedback</a></li>
            <li><a href="#">Contact us</a></li>
            <li><a href="#">Find us on GitHub</a></li>
          </ul>
        </div>
      </div>
    </footer>
    <!-- Load javascript from CDN -->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.3.1/js/bootstrap.min.js"></script>
    <script>octry('')</script>
  </body>
</html>
