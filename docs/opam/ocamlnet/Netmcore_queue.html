<!DOCTYPE HTML>

<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title> &ndash; OCaml</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Google Web Fonts -->
    <link href="http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet">
    <link href="http://fonts.googleapis.com/css?family=Domine:400,700" rel="stylesheet">
    <!-- Only part of Bootstrap that we don't load from a CDN is our own customized CSS build. -->
    <link href="/static/css/bootstrap.css" rel="stylesheet" media="screen">
    <!--[if lt IE 9]>
        <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.2/html5shiv.js"></script>
    <![endif]-->

 <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
 <script type="text/javascript" src="/docs/opam/doc_loader.js"></script>
    <script type="text/javascript">
      function octry(x){
        if(document.getElementById('buttons').innerHTML=='') {
          t = document.getElementById('tryocaml');
          js = document.createElement("script"); js.type = "text/javascript"; js.src = "/try-ocaml.js";
          t.appendChild(js);
        } else {
          t = document.getElementById('tryocaml');
          t.style.display = 'block';
          document.getElementById('console').value = x;
          document.getElementById('console').focus();
          document.getElementById('console').select();
        }
      }
      if(!(document.getElementById('buttons'))) octry = function() {}
    </script>
  </head>
  <body>
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="brand" href="/"><img src="/static/img/ocaml.png" alt="OCaml"></a>
          <div class="nav-collapse collapse">
                        <ul class="nav">
              <li ><a href="/learn/">Learn</a></li>
              <li ><a href="/docs/">Documentation</a></li>
              <li ><a href="/platform/">Platform</a></li>
              <li ><a href="/list.html">Packages</a></li>
              <li ><a href="/community/">Community</a></li>
            </ul>

            <form class="navbar-search pull-right">
              <input class="search-query" type="text" placeholder="Search" />
            </form>
          </div>
        </div>
      </div>
    </nav>
    
        <div class="container">
      <div class="row">



          <div id='main-contents' class="content">
            <div class="ocaml_toplevel_module"><div class="info">Shared queues</div>
<pre><span class="TYPEsqueue"><span class="keyword">type</span> <code class="type">('e, 'h) </code>squeue</span> </pre><div class="info"><div class="info">Queues where the elements have type <code class="code">'e</code> and the header has
      type <code class="code">'h</code></div></div>
<pre><span class="TYPEsqueue_descr"><span class="keyword">type</span> <code class="type">('e, 'h) </code>squeue_descr</span> </pre><div class="info"><div class="info">The marshallble descriptor of queues</div></div>
<pre><span class="EXCEPTIONEmpty"><span class="keyword">exception</span> Empty</span></pre><div class="info"><div class="info">Raised when the queue is empty and the operation cannot be done</div></div>
<pre><span class="VALcreate"><span class="keyword">val</span> create</span> : <code class="type"><a href="?package=ocamlnet&amp;module=Netmcore&amp;type=res_id">Netmcore.res_id</a> -&gt; 'h -&gt; ('e, 'h) <a href="?package=ocamlnet&amp;module=Netmcore_queue&amp;type=squeue">squeue</a></code></pre><div class="info"><div class="info"><code class="code">create pool h</code>: Creates an empty queue in the <code class="code">pool</code>, with header
      <code class="code">h</code></div></div>
<pre><span class="VALpush"><span class="keyword">val</span> push</span> : <code class="type">'e -&gt; ('e, 'h) <a href="?package=ocamlnet&amp;module=Netmcore_queue&amp;type=squeue">squeue</a> -&gt; unit</code></pre><div class="info"><div class="info"><code class="code">push x q</code>: Pushes a copy of <code class="code">x</code> to the end of the queue <code class="code">q</code></div></div>
<pre><span class="VALpop_p"><span class="keyword">val</span> pop_p</span> : <code class="type">('e, 'h) <a href="?package=ocamlnet&amp;module=Netmcore_queue&amp;type=squeue">squeue</a> -&gt; ('e -&gt; 'a) -&gt; 'a</code></pre><div class="info"><div class="info"><code class="code">pop_p q f</code>: Takes the first element <code class="code">x</code> from the queue, removes it
      there, and calls <code class="code">f x</code>. During the execution of <code class="code">f</code> the value <code class="code">x</code>
      is pinned and cannot be garbage-collected.<br/>      Raises <code class="code">Empty</code> if the queue is empty.</div></div>
<pre><span class="VALpop_c"><span class="keyword">val</span> pop_c</span> : <code class="type">('e, 'h) <a href="?package=ocamlnet&amp;module=Netmcore_queue&amp;type=squeue">squeue</a> -&gt; 'e</code></pre><div class="info"><div class="info"><code class="code">pop_c q</code>: Takes the first element <code class="code">x</code> from the queue, removes it
      there, and returns a copy of <code class="code">x</code> in normal memory.<br/>      Raises <code class="code">Empty</code> if the queue is empty.</div></div>
<pre><span class="VALtop_p"><span class="keyword">val</span> top_p</span> : <code class="type">('e, 'h) <a href="?package=ocamlnet&amp;module=Netmcore_queue&amp;type=squeue">squeue</a> -&gt; ('e -&gt; 'a) -&gt; 'a</code></pre><div class="info"><div class="info"><code class="code">pop_p q f</code>: Takes the first element <code class="code">x</code> of the queue, 
      and calls <code class="code">f x</code>, without removing <code class="code">x</code> from the queue. 
      During the execution of <code class="code">f</code> the value <code class="code">x</code>
      is pinned and cannot be garbage-collected.<br/>      Raises <code class="code">Empty</code> if the queue is empty.</div></div>
<pre><span class="VALtop_c"><span class="keyword">val</span> top_c</span> : <code class="type">('e, 'h) <a href="?package=ocamlnet&amp;module=Netmcore_queue&amp;type=squeue">squeue</a> -&gt; 'e</code></pre><div class="info"><div class="info"><code class="code">pop_p q f</code>: Takes the first element <code class="code">x</code> of the queue, 
      and calls <code class="code">f x</code>, without removing <code class="code">x</code> from the queue. 
      Returns a copy of <code class="code">x</code> in normal memory.<br/>      Raises <code class="code">Empty</code> if the queue is empty.</div></div>
<pre><span class="VALclear"><span class="keyword">val</span> clear</span> : <code class="type">('e, 'h) <a href="?package=ocamlnet&amp;module=Netmcore_queue&amp;type=squeue">squeue</a> -&gt; unit</code></pre><div class="info"><div class="info">Removes all elements from the queue</div></div>
<pre><span class="VALis_empty"><span class="keyword">val</span> is_empty</span> : <code class="type">('e, 'h) <a href="?package=ocamlnet&amp;module=Netmcore_queue&amp;type=squeue">squeue</a> -&gt; bool</code></pre><div class="info"><div class="info">Tests whether the queue is empty</div></div>
<pre><span class="VALlength"><span class="keyword">val</span> length</span> : <code class="type">('e, 'h) <a href="?package=ocamlnet&amp;module=Netmcore_queue&amp;type=squeue">squeue</a> -&gt; int</code></pre><div class="info"><div class="info">Returns the number of elements in the queue (O(1))</div></div>
<pre><span class="VALiter"><span class="keyword">val</span> iter</span> : <code class="type">('e -&gt; unit) -&gt; ('e, 'h) <a href="?package=ocamlnet&amp;module=Netmcore_queue&amp;type=squeue">squeue</a> -&gt; unit</code></pre><div class="info"><div class="info"><code class="code">iter f q</code>: Iterates over the elements of the queue and calls <code class="code">f x</code>
      for each element <code class="code">x</code>. The function considers the list of elements
      at the time of calling <code class="code">iter</code> as the list to iterate over. The
      queue is not locked during the iteration, and hence elements can be
      popped from the queue and pushed to the queue in parallel. The
      iteration does not take these modifications into account, though.<br/>      The elements <code class="code">x</code> are pinned during the execution of <code class="code">f</code> and will
      not be garbage-collected, even if a parallel <code class="code">pop</code> removes them from
      the queue.</div></div>
<pre><span class="VALfold"><span class="keyword">val</span> fold</span> : <code class="type">('a -&gt; 'e -&gt; 'a) -&gt; 'a -&gt; ('e, 'h) <a href="?package=ocamlnet&amp;module=Netmcore_queue&amp;type=squeue">squeue</a> -&gt; 'a</code></pre><div class="info"><div class="info"><code class="code">fold f accu q</code></div></div>
<pre><span class="VALheader"><span class="keyword">val</span> header</span> : <code class="type">('e, 'h) <a href="?package=ocamlnet&amp;module=Netmcore_queue&amp;type=squeue">squeue</a> -&gt; 'h</code></pre><div class="info"><div class="info">Returns the header</div></div>
<pre><span class="VALheap"><span class="keyword">val</span> heap</span> : <code class="type">('a, 'b) <a href="?package=ocamlnet&amp;module=Netmcore_queue&amp;type=squeue">squeue</a> -&gt; Obj.t <a href="?package=ocamlnet&amp;module=Netmcore_heap&amp;type=heap">Netmcore_heap.heap</a></code></pre><div class="info"><div class="info">Returns the underlying heap</div></div>
<pre><span class="VALdescr_of_squeue"><span class="keyword">val</span> descr_of_squeue</span> : <code class="type">('e, 'h) <a href="?package=ocamlnet&amp;module=Netmcore_queue&amp;type=squeue">squeue</a> -&gt; ('e, 'h) <a href="?package=ocamlnet&amp;module=Netmcore_queue&amp;type=squeue_descr">squeue_descr</a></code></pre><div class="info"><div class="info">Returns the descriptor</div></div>
<pre><span class="VALsqueue_of_descr"><span class="keyword">val</span> squeue_of_descr</span> : <code class="type"><a href="?package=ocamlnet&amp;module=Netmcore&amp;type=res_id">Netmcore.res_id</a> -&gt; ('e, 'h) <a href="?package=ocamlnet&amp;module=Netmcore_queue&amp;type=squeue_descr">squeue_descr</a> -&gt; ('e, 'h) <a href="?package=ocamlnet&amp;module=Netmcore_queue&amp;type=squeue">squeue</a></code></pre><div class="info"><div class="info">Look up the queue for this descriptor</div></div>
</div>
          </div>
        </div>
      </div>
    </div>
    <footer id="footer" class="navbar navbar-inverse navbar-fixed-bottom">
      <div class="navbar-inner">
        <div class="container-fluid">
          <ul class="nav pull-right">
            <li><a href="#">Feedback</a></li>
            <li><a href="#">Contact us</a></li>
            <li><a href="#">Find us on GitHub</a></li>
          </ul>
        </div>
      </div>
    </footer>
    <!-- Load javascript from CDN -->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.3.1/js/bootstrap.min.js"></script>
    <script>octry('')</script>
  </body>
</html>
